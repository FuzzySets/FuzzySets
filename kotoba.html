<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>後手必殺ファジィ集合</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="恵庭を中心に、東京・千葉・長野・札幌・帯広・神戸・熊本・ペルー(予定)に支部を構える(2025/07現在)クリエイター集団">
<meta name="keywords" content="演劇,漫画,ラジオ,小説,動画,ファジィ">
<link rel="stylesheet" href="css/style.css">
<script src="js/openclose.js"></script>
<script src="js/fixmenu_pagetop.js"></script>
</head>

<body>

<header>
<h1 id="logo"><a href="index.html"><img style="height: 32px" src="images/fuzzy_logo.png" alt="後手必殺ファジィ集合"></a></h1>
<nav id="menubar">
<ul>
<li><a href="news.html">News</a></li>
<li class="current"><a href="works.html">Works</a></li>
<li><a href="company.html">Company</a></li>
<li><a href="member.html">Member</a></li>
<li><a href="contact.html">Contact</a></li>
</ul>
</nav>
<ul class="icon">
<li><a href="#"><img src="images/sample/icon_facebook.png" alt="Facebook"></a></li>
<li><a href="#"><img src="images/sample/icon_twitter.png" alt="Twitter"></a></li>
<li><a href="#"><img src="images/sample/icon_instagram.png" alt="Instagram"></a></li>
<li><a href="#"><img src="images/sample/icon_youtube.png" alt="YouTube"></a></li>
</ul>
</header>

<nav id="menubar-s">
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="news.html">News</a></li>
<li><a href="works.html">Works</a></li>
<li><a href="company.html">Company</a></li>
<li><a href="member.html">Member</a></li>
<li><a href="contact.html">Contact</a></li>
</ul>
</nav>

<div id="contents">

<article>

<h2>今日のKOTOBA<span id="time_message"></span></h2>
<button class="center" onclick="get_kotoba()">KOTOBAをもらう</button>

<div style="text-align: center;" class="mt30" id="kotoba"></div>

<figure class="c mb30 pt30">
<img class="mt30" style="height: 20rem" src="images/works/kotoba/kotoba_pic1.jpg" alt="今日のKOTOBA">
</figure>


</article>

<!-- <p><a href="javascript:history.back()">&lt;&lt; 前のページに戻る</a></p> -->

</div>
<!--/#contents-->

<footer>
	<small>Copyright&copy; <a href="index.html">後手必殺ファジィ集合</a> All Rights Reserved.</small>
	<span class="pr"><a href="./index.html" target="_blank">《Web Design:Template-Party》</a></span>
</footer>

<!--ページの上部に戻る「↑」ボタン-->
<p class="nav-fix-pos-pagetop"><a href="#">↑</a></p>

<!--メニュー開閉ボタン-->
<div id="menubar_hdr" class="close"></div>

<script>
	// メニューの開閉処理条件設定　800px以下
	if (OCwindowWidth() <= 800) {
		open_close("menubar_hdr", "menubar-s");
	}
	// ========

	let messages = []
	let kotoba = ''
	const color_code_list = {
		0: "0",
		1: "1",
		2: "2",
		3: "3",
		4: "4",
		5: "5",
		6: "6",
		7: "7",
		8: "8",
		9: "9",
		10: "A",
		11: "B",
		12: "C",
		13: "D",
		14: "E",
		15: "F",
		16: "F"
	}
	function make_color_code() {
		/**
		 * 16進数カラーコードをランダムに生成する関数
		 * @returns {string} 生成されたカラーコード
		 * @example make_color_code(); // "#A1B2C3"
		*/
		let color_code = "#";
		for (let i = 0; i < 6; i++) {
			const random_index = Math.floor(Math.random() * 100 / 6);
			color_code += color_code_list[random_index];
		}
		console.log("生成された色コード: " + color_code);
		document.body.style.backgroundColor = color_code
		return
	}

	function choice_message() {
		const random_index = Math.floor(Math.random() * messages.length);
		return messages[random_index];
	}

	function get_kotoba() {
		make_color_code()
		
		const kotoba = document.getElementById("kotoba");
		message = choice_message()
		kotoba.textContent = `${message}`
	}

	async function loadData() {
	try {
		const response = await fetch('data/kotoba_message.json');  // JSONファイルを読み込む
		if (!response.ok) {
			throw new Error('error!!!');
		}
		messages = await response.json();   // JSONをパース
		console.log(messages)

		} catch (error) {
			console.error("データ読み込み失敗:", error);
		}
	}

	function time_message() {
		const now = new Date();
		const hours = now.getHours();
		if (hours <= 3) {
			return "窓の外には大きな柴犬"
		} else if (hours <= 6) {
			return "早起きですね。すごいです"
		} else if (hours <= 10) {
			return "おはようございます。今日も頑張りましょう。"
		} else if (hours <= 15) {
			return "こんにちは。今日の天気はどうですか？"
		} else if (hours <= 22) {
			return "今日もお疲れ様でした"
		} else {
			return "早く寝てください"
		}
	}
	// reload時に実行
	document.addEventListener("DOMContentLoaded", function() {
		// 時刻ごとのメッセージ選択
		const outputSpan = document.getElementById("time_message");
		mow_message = time_message()
		outputSpan.textContent = `${mow_message}`
		// json読み込み
		loadData()
    });

</script>
</body>
</html>
<style scoped>
	.center {
		display: block;
		margin: 0 auto; 
	}
</style>
